<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>9、函数编程 - Python | QuYi-Stack</title>
  <meta name="keywords" content=" Python ">
  <meta name="description" content="9、函数编程 - Python | QuYi-Stack">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="常见问题nearfull osd(s) or pool(s) nearfull 此时说明部分osd的存储已经超过阈值，mon会监控ceph集群中OSD空间使用情况。如果要消除WARN,可以修改这两个参数，提高阈值，但是通过实践发现并不能解决问题，可以通过观察osd的数据分布情况来分析原因。 配置文件设置阈值 &quot;mon_osd_full_ratio&quot;:&quot;0.95&amp;qu">
<meta property="og:type" content="article">
<meta property="og:title" content="Ceph分布式存储日常运维管理">
<meta property="og:url" content="https://quyi.io/2020/10/26110448.html">
<meta property="og:site_name" content="QuYi-Stack">
<meta property="og:description" content="常见问题nearfull osd(s) or pool(s) nearfull 此时说明部分osd的存储已经超过阈值，mon会监控ceph集群中OSD空间使用情况。如果要消除WARN,可以修改这两个参数，提高阈值，但是通过实践发现并不能解决问题，可以通过观察osd的数据分布情况来分析原因。 配置文件设置阈值 &quot;mon_osd_full_ratio&quot;:&quot;0.95&amp;qu">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://tc-1257598847.cos.ap-nanjing.myqcloud.com/img/20210326105607.png">
<meta property="article:published_time" content="2020-10-26T03:04:48.000Z">
<meta property="article:modified_time" content="2021-03-26T03:05:15.379Z">
<meta property="article:author" content="Qu Yi">
<meta property="article:tag" content="Ceph">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tc-1257598847.cos.ap-nanjing.myqcloud.com/img/20210326105607.png">


<link rel="icon" href="https://avatars.githubusercontent.com/u/80147732?s=460&u=23be5c16d10232c0df046f708c7da6a2c01b2913&v=4">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-dark.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.4.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="https://avatars.githubusercontent.com/u/80147732?s=460&amp;u=23be5c16d10232c0df046f708c7da6a2c01b2913&amp;v=4"/>
</a>
<div class="author">
    <span>Qu Yi</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/quyi-stack/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:Earon106@gmail.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=66773056&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(66)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="大前端">
                        <i class="fold iconfont icon-right"></i>
                        
                        大前端
                        <small>(30)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="大前端<--->BOM/DOM">
                                        
                                        BOM/DOM
                                        
                                            <small>(2
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="大前端<--->BootStrap">
                                        
                                        BootStrap
                                        
                                            <small>(4
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="大前端<--->HTML5/CSS3">
                                        
                                        HTML5/CSS3
                                        
                                            <small>(6
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="大前端<--->JavaScript">
                                        
                                        JavaScript
                                        
                                            <small>(4
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="大前端<--->jQuery">
                                        
                                        jQuery
                                        
                                            <small>(9
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="大前端<--->Vue">
                                        
                                        Vue
                                        
                                            <small>(5
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="后端">
                        <i class="fold iconfont icon-right"></i>
                        
                        后端
                        <small>(34)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="后端<--->JavaSE">
                                        
                                        JavaSE
                                        
                                            <small>(7
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="后端<--->Python基础">
                                        
                                        Python基础
                                        
                                            <small>(18
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                                <li>
                                    <div data-rel="后端<--->Python面向对象">
                                        
                                        Python面向对象
                                        
                                            <small>(9
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="运维">
                        <i class="fold iconfont icon-right"></i>
                        
                        运维
                        <small>(2)</small>
                        
                    </div>
                    
                        <ul class="sub hide">
                            
                                <li>
                                    <div data-rel="运维<--->存储">
                                        
                                        存储
                                        
                                            <small>(2
                                                )</small>
                                        
                                    </div>
                                    
                                </li>
                            
                        </ul>
                    
                </li>
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="66">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>BOM</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>BootStrap</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Ceph</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CSS3</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>DOM</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HTML5</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JavaScript</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jQuery</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Vue</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a  class="全部文章 运维 存储 "
           href="/2020/10/26110448.html"
           data-tag="Ceph"
           data-author="" >
            <span class="post-title" title="Ceph分布式存储日常运维管理">Ceph分布式存储日常运维管理</span>
            <span class="post-date" title="2020-10-26 11:04:48">2020/10/26</span>
        </a>
        
        <a  class="全部文章 运维 存储 "
           href="/2020/10/26104739.html"
           data-tag="Ceph"
           data-author="" >
            <span class="post-title" title="Ceph运维手册">Ceph运维手册</span>
            <span class="post-date" title="2020-10-26 10:47:39">2020/10/26</span>
        </a>
        
        <a  class="全部文章 后端 Python面向对象 "
           href="/2020/05/09153020.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="9、面向对象练习 - Python">9、面向对象练习 - Python</span>
            <span class="post-date" title="2020-05-09 15:30:20">2020/05/09</span>
        </a>
        
        <a  class="全部文章 后端 Python面向对象 "
           href="/2020/05/08152812.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="8、元类 - Python">8、元类 - Python</span>
            <span class="post-date" title="2020-05-08 15:28:12">2020/05/08</span>
        </a>
        
        <a  class="全部文章 后端 Python面向对象 "
           href="/2020/05/07152804.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="7、魔术方法 - Python">7、魔术方法 - Python</span>
            <span class="post-date" title="2020-05-07 15:28:04">2020/05/07</span>
        </a>
        
        <a  class="全部文章 后端 Python面向对象 "
           href="/2020/05/06152757.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="6、反射 - Python">6、反射 - Python</span>
            <span class="post-date" title="2020-05-06 15:27:57">2020/05/06</span>
        </a>
        
        <a  class="全部文章 后端 Python面向对象 "
           href="/2020/05/05152750.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="5、多态 - Python">5、多态 - Python</span>
            <span class="post-date" title="2020-05-05 15:27:50">2020/05/05</span>
        </a>
        
        <a  class="全部文章 后端 Python面向对象 "
           href="/2020/05/04152741.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="4、继承 - Python">4、继承 - Python</span>
            <span class="post-date" title="2020-05-04 15:27:41">2020/05/04</span>
        </a>
        
        <a  class="全部文章 后端 Python面向对象 "
           href="/2020/05/03152728.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="3、封装 - Python">3、封装 - Python</span>
            <span class="post-date" title="2020-05-03 15:27:28">2020/05/03</span>
        </a>
        
        <a  class="全部文章 后端 Python面向对象 "
           href="/2020/05/02152720.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="2、类和对象 - Python">2、类和对象 - Python</span>
            <span class="post-date" title="2020-05-02 15:27:20">2020/05/02</span>
        </a>
        
        <a  class="全部文章 后端 Python面向对象 "
           href="/2020/05/01152712.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="1、面向对象编程 - Python">1、面向对象编程 - Python</span>
            <span class="post-date" title="2020-05-01 15:27:12">2020/05/01</span>
        </a>
        
        <a  class="全部文章 大前端 Vue "
           href="/2020/04/12113031.html"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="5、Vue过渡动画效果">5、Vue过渡动画效果</span>
            <span class="post-date" title="2020-04-12 11:30:31">2020/04/12</span>
        </a>
        
        <a  class="全部文章 大前端 Vue "
           href="/2020/04/11113026.html"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="4、Vue组件">4、Vue组件</span>
            <span class="post-date" title="2020-04-11 11:30:26">2020/04/11</span>
        </a>
        
        <a  class="全部文章 大前端 Vue "
           href="/2020/04/10113020.html"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="3、Vue视图">3、Vue视图</span>
            <span class="post-date" title="2020-04-10 11:30:20">2020/04/10</span>
        </a>
        
        <a  class="全部文章 大前端 Vue "
           href="/2020/04/09113015.html"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="2、Vue实例">2、Vue实例</span>
            <span class="post-date" title="2020-04-09 11:30:15">2020/04/09</span>
        </a>
        
        <a  class="全部文章 大前端 Vue "
           href="/2020/04/08113005.html"
           data-tag="Vue"
           data-author="" >
            <span class="post-title" title="1、Vue介绍">1、Vue介绍</span>
            <span class="post-date" title="2020-04-08 11:30:05">2020/04/08</span>
        </a>
        
        <a  class="全部文章 大前端 BootStrap "
           href="/2020/04/07111644.html"
           data-tag="BootStrap"
           data-author="" >
            <span class="post-title" title="4、Bootstrap插件">4、Bootstrap插件</span>
            <span class="post-date" title="2020-04-07 11:16:44">2020/04/07</span>
        </a>
        
        <a  class="全部文章 大前端 BootStrap "
           href="/2020/04/06111639.html"
           data-tag="BootStrap"
           data-author="" >
            <span class="post-title" title="3、Bootstrap组件">3、Bootstrap组件</span>
            <span class="post-date" title="2020-04-06 11:16:39">2020/04/06</span>
        </a>
        
        <a  class="全部文章 大前端 BootStrap "
           href="/2020/04/05111633.html"
           data-tag="BootStrap"
           data-author="" >
            <span class="post-title" title="2、Bootstrap布局">2、Bootstrap布局</span>
            <span class="post-date" title="2020-04-05 11:16:33">2020/04/05</span>
        </a>
        
        <a  class="全部文章 大前端 BootStrap "
           href="/2020/04/04111627.html"
           data-tag="BootStrap"
           data-author="" >
            <span class="post-title" title="1、BootStrap基础">1、BootStrap基础</span>
            <span class="post-date" title="2020-04-04 11:16:27">2020/04/04</span>
        </a>
        
        <a  class="全部文章 大前端 jQuery "
           href="/2020/04/03095755.html"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="9、jQuery 插件 - jQuery">9、jQuery 插件 - jQuery</span>
            <span class="post-date" title="2020-04-03 09:57:55">2020/04/03</span>
        </a>
        
        <a  class="全部文章 大前端 jQuery "
           href="/2020/04/02095746.html"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="8、工具和其他操作 - jQuery">8、工具和其他操作 - jQuery</span>
            <span class="post-date" title="2020-04-02 09:57:46">2020/04/02</span>
        </a>
        
        <a  class="全部文章 大前端 jQuery "
           href="/2020/04/01095739.html"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="7、动画效果 - jQuery">7、动画效果 - jQuery</span>
            <span class="post-date" title="2020-04-01 09:57:39">2020/04/01</span>
        </a>
        
        <a  class="全部文章 大前端 jQuery "
           href="/2020/03/28095730.html"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="6、jQuery事件机制 - jQuery">6、jQuery事件机制 - jQuery</span>
            <span class="post-date" title="2020-03-28 09:57:30">2020/03/28</span>
        </a>
        
        <a  class="全部文章 大前端 jQuery "
           href="/2020/03/27095723.html"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="5、属性和样式操作 - jQuery">5、属性和样式操作 - jQuery</span>
            <span class="post-date" title="2020-03-27 09:57:23">2020/03/27</span>
        </a>
        
        <a  class="全部文章 大前端 jQuery "
           href="/2020/03/26095715.html"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="4、DOM操作 - jQuery">4、DOM操作 - jQuery</span>
            <span class="post-date" title="2020-03-26 09:57:15">2020/03/26</span>
        </a>
        
        <a  class="全部文章 大前端 jQuery "
           href="/2020/03/25095706.html"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="3、使用筛选器获取元素 - jQuery">3、使用筛选器获取元素 - jQuery</span>
            <span class="post-date" title="2020-03-25 09:57:06">2020/03/25</span>
        </a>
        
        <a  class="全部文章 后端 JavaSE "
           href="/2020/03/24150557.html"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="7、异常机制 - JavaSE">7、异常机制 - JavaSE</span>
            <span class="post-date" title="2020-03-24 15:05:57">2020/03/24</span>
        </a>
        
        <a  class="全部文章 大前端 jQuery "
           href="/2020/03/24095659.html"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="2、选择器 - jQuery">2、选择器 - jQuery</span>
            <span class="post-date" title="2020-03-24 09:56:59">2020/03/24</span>
        </a>
        
        <a  class="全部文章 后端 JavaSE "
           href="/2020/03/23170011.html"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="6、面向对象 - JavaSE">6、面向对象 - JavaSE</span>
            <span class="post-date" title="2020-03-23 17:00:11">2020/03/23</span>
        </a>
        
        <a  class="全部文章 大前端 jQuery "
           href="/2020/03/23095635.html"
           data-tag="jQuery"
           data-author="" >
            <span class="post-title" title="1、jQuery基础 - jQuery">1、jQuery基础 - jQuery</span>
            <span class="post-date" title="2020-03-23 09:56:35">2020/03/23</span>
        </a>
        
        <a  class="全部文章 大前端 BOM/DOM "
           href="/2020/03/22094526.html"
           data-tag="DOM"
           data-author="" >
            <span class="post-title" title="2、文档对象模型DOM">2、文档对象模型DOM</span>
            <span class="post-date" title="2020-03-22 09:45:26">2020/03/22</span>
        </a>
        
        <a  class="全部文章 大前端 BOM/DOM "
           href="/2020/03/21094314.html"
           data-tag="BOM"
           data-author="" >
            <span class="post-title" title="1、浏览器对象模型BOM">1、浏览器对象模型BOM</span>
            <span class="post-date" title="2020-03-21 09:43:14">2020/03/21</span>
        </a>
        
        <a  class="全部文章 大前端 JavaScript "
           href="/2020/03/20220918.html"
           data-tag="JavaScript"
           data-author="" >
            <span class="post-title" title="4、事件机制 - JavaScript">4、事件机制 - JavaScript</span>
            <span class="post-date" title="2020-03-20 22:09:18">2020/03/20</span>
        </a>
        
        <a  class="全部文章 大前端 JavaScript "
           href="/2020/03/19220904.html"
           data-tag="JavaScript"
           data-author="" >
            <span class="post-title" title="3、内置对象 - JavaScript">3、内置对象 - JavaScript</span>
            <span class="post-date" title="2020-03-19 22:09:04">2020/03/19</span>
        </a>
        
        <a  class="全部文章 大前端 JavaScript "
           href="/2020/03/18220846.html"
           data-tag="JavaScript"
           data-author="" >
            <span class="post-title" title="2、函数和对象 - JavaScript">2、函数和对象 - JavaScript</span>
            <span class="post-date" title="2020-03-18 22:08:46">2020/03/18</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/18143447.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="18、异常处理 - Python">18、异常处理 - Python</span>
            <span class="post-date" title="2020-03-18 14:34:47">2020/03/18</span>
        </a>
        
        <a  class="全部文章 大前端 JavaScript "
           href="/2020/03/17220714.html"
           data-tag="JavaScript"
           data-author="" >
            <span class="post-title" title="1、基础语法 - JavaScript">1、基础语法 - JavaScript</span>
            <span class="post-date" title="2020-03-17 22:07:14">2020/03/17</span>
        </a>
        
        <a  class="全部文章 后端 JavaSE "
           href="/2020/03/17165118.html"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="5、数组 - JavaSE">5、数组 - JavaSE</span>
            <span class="post-date" title="2020-03-17 16:51:18">2020/03/17</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/17143428.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="17、常用模块_其他 - Python">17、常用模块_其他 - Python</span>
            <span class="post-date" title="2020-03-17 14:34:28">2020/03/17</span>
        </a>
        
        <a  class="全部文章 后端 JavaSE "
           href="/2020/03/17142852.html"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="4、方法 - JavaSE">4、方法 - JavaSE</span>
            <span class="post-date" title="2020-03-17 14:28:52">2020/03/17</span>
        </a>
        
        <a  class="全部文章 后端 JavaSE "
           href="/2020/03/17140617.html"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="3、流程控制 - JavaSE">3、流程控制 - JavaSE</span>
            <span class="post-date" title="2020-03-17 14:06:17">2020/03/17</span>
        </a>
        
        <a  class="全部文章 后端 JavaSE "
           href="/2020/03/17120138.html"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="2、基础语法 - JavaSE">2、基础语法 - JavaSE</span>
            <span class="post-date" title="2020-03-17 12:01:38">2020/03/17</span>
        </a>
        
        <a  class="全部文章 大前端 HTML5/CSS3 "
           href="/2020/03/16220004.html"
           data-tag="HTML5,CSS3"
           data-author="" >
            <span class="post-title" title="6、响应式网页设计 - HTML5_CSS3">6、响应式网页设计 - HTML5_CSS3</span>
            <span class="post-date" title="2020-03-16 22:00:04">2020/03/16</span>
        </a>
        
        <a  class="全部文章 后端 JavaSE "
           href="/2020/03/16160850.html"
           data-tag="java"
           data-author="" >
            <span class="post-title" title="1、Java入门 - JavaSE">1、Java入门 - JavaSE</span>
            <span class="post-date" title="2020-03-16 16:08:50">2020/03/16</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/16143414.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="16、常用模块_正则表达式 - Python">16、常用模块_正则表达式 - Python</span>
            <span class="post-date" title="2020-03-16 14:34:14">2020/03/16</span>
        </a>
        
        <a  class="全部文章 大前端 HTML5/CSS3 "
           href="/2020/03/15215802.html"
           data-tag="HTML5,CSS3"
           data-author="" >
            <span class="post-title" title="5、新的页面布局方式 - HTML5_CSS3">5、新的页面布局方式 - HTML5_CSS3</span>
            <span class="post-date" title="2020-03-15 21:58:02">2020/03/15</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/15143405.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="15、常用模块_序列化处理 - Python">15、常用模块_序列化处理 - Python</span>
            <span class="post-date" title="2020-03-15 14:34:05">2020/03/15</span>
        </a>
        
        <a  class="全部文章 大前端 HTML5/CSS3 "
           href="/2020/03/14215340.html"
           data-tag="HTML5,CSS3"
           data-author="" >
            <span class="post-title" title="4、CSS3新增功能 - HTML5_CSS3">4、CSS3新增功能 - HTML5_CSS3</span>
            <span class="post-date" title="2020-03-14 21:53:40">2020/03/14</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/14143354.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="14、常用模块_系统交互 - Python">14、常用模块_系统交互 - Python</span>
            <span class="post-date" title="2020-03-14 14:33:54">2020/03/14</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/13143343.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="13、常用模块_随机和哈希 - Python">13、常用模块_随机和哈希 - Python</span>
            <span class="post-date" title="2020-03-13 14:33:43">2020/03/13</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/12143326.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="12、常用模块 - Python">12、常用模块 - Python</span>
            <span class="post-date" title="2020-03-12 14:33:26">2020/03/12</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/11143316.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="11、模块 - Python">11、模块 - Python</span>
            <span class="post-date" title="2020-03-11 14:33:16">2020/03/11</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/10143304.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="10、高级特性 - Python">10、高级特性 - Python</span>
            <span class="post-date" title="2020-03-10 14:33:04">2020/03/10</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/09143256.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="9、函数编程 - Python">9、函数编程 - Python</span>
            <span class="post-date" title="2020-03-09 14:32:56">2020/03/09</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/08143250.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="8、文件处理 - Python">8、文件处理 - Python</span>
            <span class="post-date" title="2020-03-08 14:32:50">2020/03/08</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/07143125.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="7、字符编码 - Python">7、字符编码 - Python</span>
            <span class="post-date" title="2020-03-07 14:31:25">2020/03/07</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/06143116.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="6、数据操作 - Python">6、数据操作 - Python</span>
            <span class="post-date" title="2020-03-06 14:31:16">2020/03/06</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/05143105.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="5、流程控制 - Python">5、流程控制 - Python</span>
            <span class="post-date" title="2020-03-05 14:31:05">2020/03/05</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/04143058.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="4、数据类型 - Python">4、数据类型 - Python</span>
            <span class="post-date" title="2020-03-04 14:30:58">2020/03/04</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/03143005.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="3、表达式和运算符 - Python">3、表达式和运算符 - Python</span>
            <span class="post-date" title="2020-03-03 14:30:05">2020/03/03</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/02142955.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="2、基础语法、变量 - Python">2、基础语法、变量 - Python</span>
            <span class="post-date" title="2020-03-02 14:29:55">2020/03/02</span>
        </a>
        
        <a  class="全部文章 后端 Python基础 "
           href="/2020/03/01142946.html"
           data-tag="Python"
           data-author="" >
            <span class="post-title" title="1、概述 - Python">1、概述 - Python</span>
            <span class="post-date" title="2020-03-01 14:29:46">2020/03/01</span>
        </a>
        
        <a  class="全部文章 大前端 HTML5/CSS3 "
           href="/2019/03/13214947.html"
           data-tag="HTML5,CSS3"
           data-author="" >
            <span class="post-title" title="3、页面布局 - HTML5_CSS3">3、页面布局 - HTML5_CSS3</span>
            <span class="post-date" title="2019-03-13 21:49:47">2019/03/13</span>
        </a>
        
        <a  class="全部文章 大前端 HTML5/CSS3 "
           href="/2019/03/12172510.html"
           data-tag="HTML5,CSS3"
           data-author="" >
            <span class="post-title" title="2、页面组件 - HTML5_CSS3">2、页面组件 - HTML5_CSS3</span>
            <span class="post-date" title="2019-03-12 17:25:10">2019/03/12</span>
        </a>
        
        <a  class="全部文章 大前端 HTML5/CSS3 "
           href="/2019/03/11170116.html"
           data-tag="HTML5,CSS3"
           data-author="" >
            <span class="post-title" title="1、基础 - HTML5_CSS3">1、基础 - HTML5_CSS3</span>
            <span class="post-date" title="2019-03-11 17:01:16">2019/03/11</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-9、函数编程-Python" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">9、函数编程 - Python</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="后端">后端</a> > 
            
            <a  data-rel="后端&lt;---&gt;Python基础">Python基础</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color2">Python</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2021-03-25 14:43:26'>2020-03-09 14:32</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%87%BD%E6%95%B0%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">1 函数的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%B2%A1%E6%9C%89%E5%87%BD%E6%95%B0%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-text">1.1 没有函数的缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%87%BD%E6%95%B0"><span class="toc-text">1.2 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E5%87%BD%E6%95%B0%E5%88%86%E7%B1%BB"><span class="toc-text">1.3 函数分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-text">内置函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">自定义函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%87%BD%E6%95%B0%E8%AF%AD%E6%B3%95"><span class="toc-text">2 函数语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">2.1 定义函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="toc-text">2.2 函数调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%87%BD%E6%95%B0%E7%9A%84%E5%BD%A2%E5%BC%8F"><span class="toc-text">2.3 函数的形式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-Python%E5%87%BD%E6%95%B0%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">2.4 Python函数的特点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">3 函数返回值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-text">4 函数参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%BD%A2%E5%8F%82%E5%92%8C%E5%AE%9E%E5%8F%82"><span class="toc-text">4.1 形参和实参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="toc-text">4.2 默认参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-text">4.3 可变参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0"><span class="toc-text">4.4 关键字参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-%E5%91%BD%E5%90%8D%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0"><span class="toc-text">4.5 命名关键字参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-%E5%8F%82%E6%95%B0%E7%BB%84%E5%90%88"><span class="toc-text">4.6 参数组合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-%E4%BC%A0%E5%8F%82%E7%9A%84%E7%AE%80%E5%8C%96%E8%AF%AD%E6%B3%95"><span class="toc-text">4.7 传参的简化语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="toc-text">5 函数对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%87%BD%E6%95%B0%E6%98%AF%E7%AC%AC%E4%B8%80%E7%B1%BB%E5%AF%B9%E8%B1%A1-%E5%8D%B3%E5%87%BD%E6%95%B0%E6%98%AF%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%B8%80%E7%A7%8D"><span class="toc-text">5.1 函数是第一类对象 即函数是数据类型的一种</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E5%87%BD%E6%95%B0%E7%89%B9%E6%AE%8A%E7%94%A8%E6%B3%95"><span class="toc-text">5.2 函数特殊用法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%87%BD%E6%95%B0%E5%B5%8C%E5%A5%97"><span class="toc-text">6 函数嵌套</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E5%B5%8C%E5%A5%97%E8%B0%83%E7%94%A8"><span class="toc-text">6.1 嵌套调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%B5%8C%E5%A5%97%E5%AE%9A%E4%B9%89"><span class="toc-text">6.2 嵌套定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">7 名称空间与作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4"><span class="toc-text">7.1 名称空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4%E7%9A%84%E5%8A%A0%E8%BD%BD%E9%A1%BA%E5%BA%8F"><span class="toc-text">7.2 名称空间的加载顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">7.3 作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%98%AF%E5%8F%98%E9%87%8F%E7%9A%84%E5%8F%AF%E7%94%A8%E8%8C%83%E5%9B%B4"><span class="toc-text">作用域是变量的可用范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">函数命名空间的作用域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%85%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-text">查看作用域内的变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-LEGB"><span class="toc-text">7.4 LEGB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-global%E5%85%B3%E9%94%AE%E5%AD%97%E5%92%8Cnonlocal%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">7.5 global关键字和nonlocal关键字</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#global-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">global 关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nonlocal-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">nonlocal 关键字</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E9%97%AD%E5%8C%85%E5%87%BD%E6%95%B0"><span class="toc-text">8 闭包函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85"><span class="toc-text">8.1 什么是闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E5%BD%A2%E6%88%90%E9%97%AD%E5%8C%85%E7%9A%84%E4%B8%89%E4%B8%AA%E6%9D%A1%E4%BB%B6"><span class="toc-text">8.2 形成闭包的三个条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E9%97%AD%E5%8C%85%E7%9A%84%E6%84%8F%E4%B9%89%E4%B8%8E%E5%BA%94%E7%94%A8"><span class="toc-text">8.3 闭包的意义与应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E5%92%8C%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-text">9 回调函数和高阶函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-Python%E5%86%85%E7%BD%AE%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-text">9.1 Python内置高阶函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95-%E5%86%85%E7%BD%AE%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-text">9.2 排序算法 内置高阶函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-3-%E6%9C%80%E5%A4%A7%E5%80%BC%E6%9C%80%E5%B0%8F%E5%80%BC-%E5%86%85%E7%BD%AE%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-text">9.3 最大值最小值 内置高阶函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-text">10 匿名函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-text">11 递归函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-%E4%BB%80%E4%B9%88%E6%98%AF%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-text">11.1 什么是递归函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-%E9%80%92%E5%BD%92%E7%9A%84%E5%B1%82%E7%BA%A7%E9%99%90%E5%88%B6"><span class="toc-text">11.2 递归的层级限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-%E9%80%92%E5%BD%92%E8%BF%87%E7%A8%8B%E5%89%96%E6%9E%90"><span class="toc-text">11.3 递归过程剖析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-%E5%B0%BE%E9%80%92%E5%BD%92%E4%BC%98%E5%8C%96"><span class="toc-text">11.4 尾递归优化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-5-%E9%80%92%E5%BD%92%E5%BA%94%E7%94%A8-%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">11.5 递归应用:文件操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-6-%E9%80%92%E5%BD%92%E5%BA%94%E7%94%A8-%E4%BA%8C%E5%88%86%E6%B3%95"><span class="toc-text">11.6 递归应用: 二分法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-text">12 装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E4%B8%BA%E4%BD%95%E8%A6%81%E7%94%A8%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-text">12.1 为何要用装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-%E4%BB%80%E4%B9%88%E6%98%AF%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-text">12.2 什么是装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">12.3 装饰器的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%8F%82%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-text">无参装饰器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E5%8F%82%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-text">有参装饰器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4-%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%AD%E6%B3%95"><span class="toc-text">12.4 装饰器语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-5-wraps"><span class="toc-text">12.5 wraps</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E5%81%8F%E5%87%BD%E6%95%B0"><span class="toc-text">14 偏函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-1-%E5%81%8F%E5%87%BD%E6%95%B0%E7%9A%84%E6%84%8F%E4%B9%89"><span class="toc-text">14.1 偏函数的意义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-%E5%81%8F%E5%87%BD%E6%95%B0%E8%AF%AD%E6%B3%95"><span class="toc-text">14.2 偏函数语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-3-%E5%88%9B%E5%BB%BA%E5%81%8F%E5%87%BD%E6%95%B0%E6%97%B6%E7%9A%84%E5%8F%82%E6%95%B0"><span class="toc-text">14.3 创建偏函数时的参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-Python%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-text">15 Python内置函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-%E7%BB%83%E4%B9%A0"><span class="toc-text">16 练习</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-5 i,
    .toc-level-5 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-函数的概念"><a href="#1-函数的概念" class="headerlink" title="1 函数的概念"></a>1 函数的概念</h2><h3 id="1-1-没有函数的缺点"><a href="#1-1-没有函数的缺点" class="headerlink" title="1.1 没有函数的缺点"></a>1.1 没有函数的缺点</h3><ul>
<li>1、代码的组织结构不清晰，可读性差</li>
<li>2、遇到重复的功能只能重复编写实现代码，代码冗余</li>
<li>3、功能需要扩展时，需要找出所有实现该功能的地方修改之，无法统一管理且维护难度极大</li>
</ul>
<h3 id="1-2-函数"><a href="#1-2-函数" class="headerlink" title="1.2 函数"></a>1.2 函数</h3><p>函数是指一段在一起的、可以做某一件事儿的程序</p>
<p>在程序设计中，常将一些常用的功能模块编写成函数，放在函数库中供公共选用。要<strong>善于利用函数</strong>，以减少重复编写程序段的工作量。</p>
<h3 id="1-3-函数分类"><a href="#1-3-函数分类" class="headerlink" title="1.3 函数分类"></a>1.3 函数分类</h3><h4 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h4><p>为了方便我们的开发，针对一些简单的功能，python解释器已经为我们定义好了的函数即内置函数。对于内置函数，我们可以拿来就用而无需事先定义，如len(),sum(),max()</p>
<h4 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h4><p>很明显内置函数所能提供的功能是有限的，这就需要我们自己根据需求，事先定制好我们自己的函数来实现某种功能，以后，在遇到应用场景时，调用自定义的函数即可</p>
<h2 id="2-函数语法"><a href="#2-函数语法" class="headerlink" title="2 函数语法"></a>2 函数语法</h2><h3 id="2-1-定义函数"><a href="#2-1-定义函数" class="headerlink" title="2.1 定义函数"></a>2.1 定义函数</h3><pre><code class="python">def 函数名(参数1,参数2,参数3,...):
    &#39;&#39;&#39;注释&#39;&#39;&#39;
    函数体
    return 返回的值
</code></pre>
<h3 id="2-2-函数调用"><a href="#2-2-函数调用" class="headerlink" title="2.2 函数调用"></a>2.2 函数调用</h3><pre><code class="python">1 语句形式：foo()
2 表达式形式：3*len(&#39;hello&#39;)
3 当中另外一个函数的参数：range(len(&#39;hello&#39;))
</code></pre>
<p><strong>注意</strong> 函数名后面有<code>()</code>才是调用</p>
<h3 id="2-3-函数的形式"><a href="#2-3-函数的形式" class="headerlink" title="2.3 函数的形式"></a>2.3 函数的形式</h3><pre><code>#1、无参：应用场景仅仅只是执行一些操作，比如与用户交互，打印
#2、有参：需要根据外部传进来的参数，才能执行相应的逻辑，比如统计长度，求最大值最小值
#3、空函数：设计代码结构
#定义阶段
def tell_tag(tag,n): #有参数
    print(tag*n)

def tell_msg(): #无参数
    print(&#39;hello world&#39;)

#调用阶段
tell_tag(&#39;*&#39;,12)
tell_msg()

#结论：
#1、定义时无参，意味着调用时也无需传入参数
#2、定义时有参，意味着调用时则必须传入参数
# 空函数
def auth(user,password):                                                               
    pass                                                          

def get(filename):                                                
    &#39;&#39;&#39;                                                           
    :param filename:                                              
    :return:                                                      
    &#39;&#39;&#39;                                                           
    pass
</code></pre>
<h3 id="2-4-Python函数的特点"><a href="#2-4-Python函数的特点" class="headerlink" title="2.4 Python函数的特点"></a>2.4 Python函数的特点</h3><ul>
<li>Python函数先定义 再调用</li>
<li>函数在定义阶段 ，只检测语法，不执行代码。也就说，语法错误在函数定义阶段就会检测出来，而代码的逻辑错误只有在执行时才会知道</li>
</ul>
<h2 id="3-函数返回值"><a href="#3-函数返回值" class="headerlink" title="3 函数返回值"></a>3 函数返回值</h2><pre><code>无return-&gt;None
return 1个值-&gt;返回1个值
return 逗号分隔多个值-&gt;元组
什么时候该有返回值？
　　　　调用函数，经过一系列的操作，最后要拿到一个明确的结果，则必须要有返回值
　　　　通常有参函数需要有返回值，输入参数，经过计算，得到一个最终的结果
什么时候不需要有返回值？
　　　　调用函数，仅仅只是执行一系列的操作，最后不需要得到什么结果，则无需有返回值
　　　　通常无参函数不需要有返回值
</code></pre>
<p><strong>注意</strong> <code>函数名()</code> 这是函数调用表达式， 函数调用表达式的结果是 函数的返回值</p>
<h2 id="4-函数参数"><a href="#4-函数参数" class="headerlink" title="4 函数参数"></a>4 函数参数</h2><h3 id="4-1-形参和实参"><a href="#4-1-形参和实参" class="headerlink" title="4.1 形参和实参"></a>4.1 形参和实参</h3><pre><code>形参： 函数定义时候的参数； 实参：函数调用时给的参数
</code></pre>
<h3 id="4-2-默认参数"><a href="#4-2-默认参数" class="headerlink" title="4.2 默认参数"></a>4.2 默认参数</h3><pre><code>可以传值也可以不传值，经常需要变得参数定义成位置形参，变化较小的参数定义成默认参数（形参）
注意的问题：
    1. 只在定义时赋值一次
    2. 默认参数的定义应该在位置形参右面
    3. 默认参数通常应该定义成不可变类型
</code></pre>
<h3 id="4-3-可变参数"><a href="#4-3-可变参数" class="headerlink" title="4.3 可变参数"></a>4.3 可变参数</h3><pre><code class="python">#可变参数就是传入的参数个数是可变的，可以是1个、2个到任意个，还可以是0个。
# number是元组
def calc(*numbers):
    sum = 0
    for n in numbers:
        sum = sum + n * n
    return sum

#调用
&gt;&gt;&gt; calc(1, 2)
&gt;&gt;&gt; calc()

#Python允许你在list或tuple前面加一个*号，把list或tuple的元素变成可变参数传进去：
nums = [1, 2, 3]
calc(*nums)
</code></pre>
<h3 id="4-4-关键字参数"><a href="#4-4-关键字参数" class="headerlink" title="4.4 关键字参数"></a>4.4 关键字参数</h3><p>可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple。而关键字参数允许你传入0个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个dict</p>
<pre><code class="python">&#39;&#39;&#39;
按照key=value的形式定义的实参
无需按照位置为形参传值
注意的问题：
   1. 关键字实参必须在位置实参右面
   2. 对同一个形参不能重复传值
&#39;&#39;&#39;

def person(name, age, **kw):
    print(&#39;name:&#39;, name, &#39;age:&#39;, age, &#39;other:&#39;, kw)

#定义
person(&#39;Adam&#39;, 45, gender=&#39;M&#39;, job=&#39;Engineer&#39;)
person(&#39;Bob&#39;, 35, city=&#39;Beijing&#39;)
extra = &#123;&#39;city&#39;: &#39;Beijing&#39;, &#39;job&#39;: &#39;Engineer&#39;&#125;
person(&#39;Jack&#39;, 24, **extra)
</code></pre>
<h3 id="4-5-命名关键字参数"><a href="#4-5-命名关键字参数" class="headerlink" title="4.5 命名关键字参数"></a>4.5 命名关键字参数</h3><p>对于关键字参数，函数的调用者可以传入任意不受限制的关键字参数。</p>
<p>如果要限制关键字参数的名字，就可以用命名关键字参数#</p>
<p>和关键字参数<code>**kw</code>不同，命名关键字参数需要一个特殊分隔符<code>*</code>，<code>*</code>后面的参数被视为命名关键字参数。</p>
<pre><code class="python"># 只接收city和job作为关键字参数
def person(name, age, *, city, job):
    print(name, age, city, job)



# 调用
#命名关键字参数必须传入参数名，这和位置参数不同。如果没有传入参数名，调用将报错：
person(&#39;Jack&#39;, 24, city=&#39;Beijing&#39;, job=&#39;Engineer&#39;)

#命名关键字参数可以有缺省值，从而简化调用
def person(name, age, *, city=&#39;Beijing&#39;, job):
    print(name, age, city, job)
</code></pre>
<p>如果没有可变参数，就必须加一个<code>*</code>作为特殊分隔符。</p>
<h3 id="4-6-参数组合"><a href="#4-6-参数组合" class="headerlink" title="4.6 参数组合"></a>4.6 参数组合</h3><p>在Python中定义函数，可以用必选参数、默认参数、可变参数、关键字参数和命名关键字参数，这5种参数都可以组合使用。但是请注意，参数定义的顺序必须是：必选参数、默认参数、可变参数、命名关键字参数和关键字参数。</p>
<pre><code class="python">def f1(a, b, c=0, *args, **kw):
    print(&#39;a =&#39;, a, &#39;b =&#39;, b, &#39;c =&#39;, c, &#39;args =&#39;, args, &#39;kw =&#39;, kw)

def foo(x,y,*args,a=1,b,**kwargs):
    print(x, y, args, a, b, kwargs)

def f2(a, b, c=0, *, d, **kw):
    print(&#39;a =&#39;, a, &#39;b =&#39;, b, &#39;c =&#39;, c, &#39;d =&#39;, d, &#39;kw =&#39;, kw)
</code></pre>
<h3 id="4-7-传参的简化语法"><a href="#4-7-传参的简化语法" class="headerlink" title="4.7 传参的简化语法"></a>4.7 传参的简化语法</h3><pre><code class="python">nums = [1, 2, 3]
calc(*nums)  #*nums表示把nums这个list的所有元素作为可变参数传进去

extra = &#123;&#39;city&#39;: &#39;Beijing&#39;, &#39;job&#39;: &#39;Engineer&#39;&#125;
person(&#39;Jack&#39;, 24, **extra) # **extra表示把extra这个dict的所有key-value用关键字参数传入到函数的**kw参数 命名关键字参数也可以接收到
</code></pre>
<h2 id="5-函数对象"><a href="#5-函数对象" class="headerlink" title="5 函数对象"></a>5 函数对象</h2><h3 id="5-1-函数是第一类对象-即函数是数据类型的一种"><a href="#5-1-函数是第一类对象-即函数是数据类型的一种" class="headerlink" title="5.1 函数是第一类对象 即函数是数据类型的一种"></a>5.1 函数是第一类对象 即函数是数据类型的一种</h3><ul>
<li>函数可以被引用</li>
<li>函数名就是变量名</li>
<li>函数可以当作参数传递</li>
<li>返回值可以是函数</li>
<li>函数是可以当作容器类型的元素</li>
</ul>
<h3 id="5-2-函数特殊用法"><a href="#5-2-函数特殊用法" class="headerlink" title="5.2 函数特殊用法"></a>5.2 函数特殊用法</h3><p>利用该特性，优雅的取代多分支的if</p>
<pre><code class="python">def foo():
    print(&#39;foo&#39;)

def bar():
    print(&#39;bar&#39;)

dic=&#123;
    &#39;foo&#39;:foo,
    &#39;bar&#39;:bar,
&#125;
while True:
    choice=input(&#39;&gt;&gt;: &#39;).strip()
    if choice in dic:
        dic[choice]()
</code></pre>
<h2 id="6-函数嵌套"><a href="#6-函数嵌套" class="headerlink" title="6 函数嵌套"></a>6 函数嵌套</h2><h3 id="6-1-嵌套调用"><a href="#6-1-嵌套调用" class="headerlink" title="6.1 嵌套调用"></a>6.1 嵌套调用</h3><pre><code class="python">def max(x,y):
    return x if x &gt; y else y

def max4(a,b,c,d):
    res1=max(a,b)
    res2=max(res1,c)
    res3=max(res2,d)
    return res3
print(max4(1,2,3,4))
</code></pre>
<h3 id="6-2-嵌套定义"><a href="#6-2-嵌套定义" class="headerlink" title="6.2 嵌套定义"></a>6.2 嵌套定义</h3><pre><code class="python">def f1():
    def f2():
        def f3():
            print(&#39;from f3&#39;)
        f3()
    f2()

f1()
f3() #报错，为何？
</code></pre>
<h2 id="7-名称空间与作用域"><a href="#7-名称空间与作用域" class="headerlink" title="7 名称空间与作用域"></a>7 名称空间与作用域</h2><h3 id="7-1-名称空间"><a href="#7-1-名称空间" class="headerlink" title="7.1 名称空间"></a>7.1 名称空间</h3><p><code>名称空间</code>，也可以成为 <code>名字空间</code>、<code>命名空间</code>： 意为 存放名字的地方。 名称空间正是存放 变量名 与值 绑定关系的地方</p>
<h3 id="7-2-名称空间的加载顺序"><a href="#7-2-名称空间的加载顺序" class="headerlink" title="7.2 名称空间的加载顺序"></a>7.2 名称空间的加载顺序</h3><pre><code>执行 pyton test.py

1、python解释器先启动，因而首先加载的是：内置名称空间
2、执行test.py文件，然后以文件为基础，加载全局名称空间
3、在执行文件的过程中如果调用函数，则临时产生局部名称空间
</code></pre>
<h3 id="7-3-作用域"><a href="#7-3-作用域" class="headerlink" title="7.3 作用域"></a>7.3 作用域</h3><p>由于名称空间的存在，所以产生了作用域</p>
<h4 id="作用域是变量的可用范围"><a href="#作用域是变量的可用范围" class="headerlink" title="作用域是变量的可用范围"></a>作用域是变量的可用范围</h4><ul>
<li>全局范围 <strong>全局作用域</strong>（内置名称空间与全局名称空间属于该范围）：全局存活，全局有效 这种变量是 <strong>全局变量</strong></li>
<li>局部范围 <strong>局部作用域</strong>（局部名称空间属于该范围）：临时存活，局部有效 这种变量是 <strong>局部变量</strong></li>
</ul>
<h4 id="函数命名空间的作用域"><a href="#函数命名空间的作用域" class="headerlink" title="函数命名空间的作用域"></a>函数命名空间的作用域</h4><p>作用域关系是在函数定义阶段就已经固定的，与函数的调用位置无关</p>
<pre><code class="python">x=1
def f1():
    def f2():
        print(x)
    return f2
x=100
def f3(func):
    x=2
    func()
x=10000
f3(f1())
</code></pre>
<h4 id="查看作用域内的变量"><a href="#查看作用域内的变量" class="headerlink" title="查看作用域内的变量"></a>查看作用域内的变量</h4><pre><code>globals() # 返回字典 全局作用域下所有的变量
locals()  # 返回字典 本作用域(局部作用域)下所有的变量
</code></pre>
<h3 id="7-4-LEGB"><a href="#7-4-LEGB" class="headerlink" title="7.4 LEGB"></a>7.4 LEGB</h3><p>LEGB是Python中名字(变量)的查找顺序</p>
<pre><code>LEGB  代表名字查找顺序: locals -&gt; enclosing function -&gt; globals -&gt; __builtins__

locals         是函数内的名字空间，包括局部变量和形参
enclosing     外部嵌套函数的名字空间（闭包中常见）
globals     全局变量，函数定义所在模块的名字空间
builtins     内置模块的名字空间
</code></pre>
<h3 id="7-5-global关键字和nonlocal关键字"><a href="#7-5-global关键字和nonlocal关键字" class="headerlink" title="7.5 global关键字和nonlocal关键字"></a>7.5 global关键字和nonlocal关键字</h3><h4 id="global-关键字"><a href="#global-关键字" class="headerlink" title="global 关键字"></a>global 关键字</h4><p>global关键字用来在函数或其他局部作用域中使用全局变量。但是如果不修改全局变量也可以不使用global关键字。</p>
<pre><code class="python"># 如果在局部要对全局变量修改，需要在局部使用 global 声明该全局变量

gcount = 0

def global_test():
    global  gcount
    gcount+=1
    print (gcount)
global_test()
# 在局部如果不声明全局变量，并且不修改全局变量。则可以正常使用全局变量
gcount = 0

def global_test():
    print (gcount)
global_test()
</code></pre>
<h4 id="nonlocal-关键字"><a href="#nonlocal-关键字" class="headerlink" title="nonlocal 关键字"></a>nonlocal 关键字</h4><p>nonlocal关键字用来在函数或其他作用域中使用外层(非全局)变量。</p>
<pre><code class="python">def func():
    count = 1
    def foo():
        nonlocal count
        count = 12
    foo()
    print(count)
func()     #输出12

###################################

def make_counter(): 
    count = 0 
    def counter(): 
        nonlocal count 
        count += 1 
        return count 
    return counter 

def make_counter_test(): 
  mc = make_counter() 
  print(mc())
  print(mc())
  print(mc())

make_counter_test()
</code></pre>
<h2 id="8-闭包函数"><a href="#8-闭包函数" class="headerlink" title="8 闭包函数"></a>8 闭包函数</h2><h3 id="8-1-什么是闭包"><a href="#8-1-什么是闭包" class="headerlink" title="8.1 什么是闭包"></a>8.1 什么是闭包</h3><ul>
<li>闭包是由函数及其相关的引用环境组合而成的实体(即：闭包=函数+引用环境) （看不懂 没关系，去他妹的）</li>
<li>函数中可以（嵌套）定义另一个函数时，如果内部的函数引用了外部的函数的变量，则可能产生闭包</li>
</ul>
<h3 id="8-2-形成闭包的三个条件"><a href="#8-2-形成闭包的三个条件" class="headerlink" title="8.2 形成闭包的三个条件"></a>8.2 形成闭包的三个条件</h3><pre><code>1)必须有一个内嵌函数(函数里定义的函数）——这对应函数之间的嵌套
2)内嵌函数必须引用一个定义在闭合范围内(外部函数里)的变量——内部函数引用外部变量
3)外部函数必须返回内嵌函数——必须返回那个内部函数
def counter():
            n=0
            def incr():
                nonlocal n
                x=n
                n+=1
                return x
            return incr

c=counter()
print(c())
print(c())
print(c())
print(c.__closure__[0].cell_contents) #查看闭包的元素
</code></pre>
<h3 id="8-3-闭包的意义与应用"><a href="#8-3-闭包的意义与应用" class="headerlink" title="8.3 闭包的意义与应用"></a>8.3 闭包的意义与应用</h3><ul>
<li><p>闭包的意义：返回的函数对象，不仅仅是一个函数对象，在该函数外还包裹了一层作用域，这使得，该函数无论在何处调用，优先使用自己外层包裹的作用域</p>
</li>
<li><p>应用领域：延迟计算（原来我们是传参，现在我们是包起来）</p>
<pre><code class="python">from urllib.request import urlopen

def index(url):
    def get():
        return urlopen(url).read()
    return get

baidu=index(&#39;http://www.baidu.com&#39;)
print(baidu().decode(&#39;utf-8&#39;))
</code></pre>
</li>
</ul>
<h2 id="9-回调函数和高阶函数"><a href="#9-回调函数和高阶函数" class="headerlink" title="9 回调函数和高阶函数"></a>9 回调函数和高阶函数</h2><p>一个函数就可以接收另一个函数作为参数，作为参数的函数被称之为<strong>回调函数</strong>，接收函数作为参数的函数被称作<strong>高阶函数</strong></p>
<p>前面闭包中，可以把一个函数作为返回值返回的函数也是<strong>高阶函数</strong></p>
<pre><code class="python">def f(x):
    return x % 2

def add(x, y, f):
    return f(x) + f(y)

# 函数 f 就是回调函数
# 函数 add 是高阶函数


def index(url):
    def get():
        return urlopen(url).read()
    return get
#函数 index()也是高阶函数
</code></pre>
<h3 id="9-1-Python内置高阶函数"><a href="#9-1-Python内置高阶函数" class="headerlink" title="9.1 Python内置高阶函数"></a>9.1 Python内置高阶函数</h3><ul>
<li>map()</li>
<li>reduce()</li>
<li>filter()</li>
</ul>
<pre><code class="python"># 列表对象 的sort() 方法 就可以接收一个回调函数 作为参数
def f(item) &#123;
    return item[&#39;age&#39;]
&#125;
list = [&#123;&#39;name&#39;:&#39;曹操&#39;, &#39;age&#39;:10&#125;, &#123;&#39;name&#39;:&#39;曹植&#39;,&#39;age&#39;:12&#125;, &#123;&#39;name&#39;:&#39;罗永浩&#39;,&#39;age&#39;:23&#125;]
list.sort(key=f)



# Python内置的 map() 函数是个高阶函数，接收回调函数作为参数
# map()函数接收两个参数，一个是函数，一个是Iterable，map将传入的函数依次作用到序列的每个元素，并把结果作为新的Iterator返回
def f(x):
     return x * x
r = map(f, [1, 2, 3, 4, 5, 6, 7, 8, 9])
list(r)  # 输出结果 [1, 4, 9, 16, 25, 36, 49, 64, 81]



# Python内置的reduce() 函数 也是高阶函数
# reduce把一个回调函数作用在一个序列[x1, x2, x3, ...]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算
from functools import reduce
def add(x, y):
     return x + y
reduce(add, [1, 3, 5, 7, 9])   # 求和计算25

def fn(x, y):
 return x * 10 + y
reduce(fn, [1, 3, 5, 7, 9])   # 把列表中的成员组合成 整数 13579


# Python内置的 filter() 函数 同样是 高阶函数
# 和map()类似，filter()也接收一个函数和一个序列。和map()不同的是，filter()把传入的函数依次作用于每个元素，然后根据返回值是True还是False决定保留还是丢弃该元素。
def is_odd(n):
    return n % 2 == 1
list(filter(is_odd, [1, 2, 4, 5, 6, 9, 10, 15]))  # # 结果: [1, 5, 9, 15] 只保留了奇数
# 注意到filter()函数返回的是一个Iterator，也就是一个惰性序列，所以要强迫filter()完成计算结果，需要用list()函数获得所有结果并返回list。
</code></pre>
<h3 id="9-2-排序算法-内置高阶函数"><a href="#9-2-排序算法-内置高阶函数" class="headerlink" title="9.2 排序算法 内置高阶函数"></a>9.2 排序算法 内置高阶函数</h3><p>python内置的<code>sorted()</code>函数就可以对list进行排序</p>
<pre><code class="python">sorted([36, 5, -12, 9, -21])
[-21, -12, 5, 9, 36]
</code></pre>
<p>此外，<code>sorted()</code>函数也是一个高阶函数，它还可以接收一个<code>key</code>函数来实现自定义的排序，</p>
<pre><code class="python"># 按照绝对值排序
sorted([36, 5, -12, 9, -21], key=abs)
[5, 9, -12, -21, 36]
# 字符串排序 不区分大小写
sorted([&#39;bob&#39;, &#39;about&#39;, &#39;Zoo&#39;, &#39;Credit&#39;], key=str.lower)
[&#39;about&#39;, &#39;bob&#39;, &#39;Credit&#39;, &#39;Zoo&#39;]
# 用一组tuple表示学生名字和成绩 按照成绩排序
L = [(&#39;Bob&#39;, 75), (&#39;Adam&#39;, 92), (&#39;Bart&#39;, 66), (&#39;Lisa&#39;, 88)]

def my_sort(item):
    return item[1]
sorted(L, key=my_sort)
</code></pre>
<h3 id="9-3-最大值最小值-内置高阶函数"><a href="#9-3-最大值最小值-内置高阶函数" class="headerlink" title="9.3 最大值最小值 内置高阶函数"></a>9.3 最大值最小值 内置高阶函数</h3><pre><code class="python">salaries=&#123;
    &#39;发哥&#39;:3000,
    &#39;铭哥&#39;:100000000,
    &#39;丹丹&#39;:10000,
    &#39;老朱&#39;:2000
&#125;

# 迭代字典，取得是key，因而比较的是key的最大和最小值
&gt;&gt;&gt; max(salaries)
&gt;&gt;&gt; min(salaries)

# 可以取values，来比较
&gt;&gt;&gt; max(salaries.values())
&gt;&gt;&gt; min(salaries.values())

# 但通常我们都是想取出，工资最高的那个人名，即比较的是salaries的值，得到的是键
&gt;&gt;&gt; max(salaries,key=lambda k:salary[k])
&gt;&gt;&gt; min(salaries,key=lambda k:salary[k])
</code></pre>
<h2 id="10-匿名函数"><a href="#10-匿名函数" class="headerlink" title="10 匿名函数"></a>10 匿名函数</h2><p>匿名函数就是没有名字的函数</p>
<pre><code class="python"># 有名
def func(x,y,z=1):
    return x+y+z

# 匿名
lambda x,y,z=1:x+y+z #与函数有相同的作用域，但是匿名意味着引用计数为0，使用一次就释放，除非让其有名字

# 可以把匿名函数赋值给变量使其有名，但这样没意义了
func=lambda x,y,z=1:x+y+z 
func(1,2,3)
# 有名函数：循环使用，保存了名字，通过名字就可以重复引用函数功能
# 匿名函数：一次性使用，随时随时定义,通常作为回调函数(高阶函数的参数)

list(map(lambda x: x * x, [1, 2, 3, 4, 5, 6, 7, 8, 9]))
# 结果 [1, 4, 9, 16, 25, 36, 49, 64, 81]
</code></pre>
<h2 id="11-递归函数"><a href="#11-递归函数" class="headerlink" title="11 递归函数"></a>11 递归函数</h2><h3 id="11-1-什么是递归函数"><a href="#11-1-什么是递归函数" class="headerlink" title="11.1 什么是递归函数"></a>11.1 什么是递归函数</h3><p>在函数内部，可以调用其他函数。如果一个函数在内部调用自身本身，这个函数就是递归函数。</p>
<pre><code class="python"># 用递归实现 n 的阶乘
def fact(n):
    if n==1:
        return 1
    return n * fact(n - 1)
</code></pre>
<h3 id="11-2-递归的层级限制"><a href="#11-2-递归的层级限制" class="headerlink" title="11.2 递归的层级限制"></a>11.2 递归的层级限制</h3><p>调用函数会产生局部的名称空间，占用内存，因为上述这种调用会无需调用本身，python解释器的内存管理机制为了防止其无限制占用内存，对函数的递归调用做了最大的层级限制(默认1000),称之为递归最大深度. 当然递归最大深度是可以修改的</p>
<pre><code class="python">import sys
sys.getrecursionlimit() # 获取当前递归最大深度
sys.setrecursionlimit(2000) # 设置递归最大深度
</code></pre>
<h3 id="11-3-递归过程剖析"><a href="#11-3-递归过程剖析" class="headerlink" title="11.3 递归过程剖析"></a>11.3 递归过程剖析</h3><ul>
<li>递归调用应该包含两个明确的阶段：回溯，递推</li>
<li>回溯就是从外向里一层一层递归调用下去，回溯阶段必须要有一个明确地结束条件，每进入下一次递归时，问题的规模都应该有所减少（否则，单纯地重复调用自身是毫无意义的）</li>
<li>递推就是从里向外一层一层结束递归</li>
</ul>
<pre><code class="python">#2、示例+图解。。。
# salary(5)=salary(4)+300
# salary(4)=salary(3)+300
# salary(3)=salary(2)+300
# salary(2)=salary(1)+300
# salary(1)=100
#
# salary(n)=salary(n-1)+300     n&gt;1
# salary(1) =100                n=1

def salary(n):
    if n == 1:
        return 100
    return salary(n-1)+300

print(salary(5))
</code></pre>
<h3 id="11-4-尾递归优化"><a href="#11-4-尾递归优化" class="headerlink" title="11.4 尾递归优化"></a>11.4 尾递归优化</h3><p>python中的递归效率低，需要在进入下一次递归时保留当前的状态，在其他语言中可以有解决方法：尾递归优化，即在函数的最后一步（而非最后一行)调用自己，但是python又没有尾递归，且对递归层级做了限制。</p>
<pre><code class="python"># 尾递归优化 举例 但是没有软用
def fact_iter(num, product):
    if num == 1:
        return product
    return fact_iter(num - 1, num * product)
</code></pre>
<h3 id="11-5-递归应用-文件操作"><a href="#11-5-递归应用-文件操作" class="headerlink" title="11.5 递归应用:文件操作"></a>11.5 递归应用:文件操作</h3><pre><code class="python"># 统计目录大小
# 删除目录
# 复制目录
</code></pre>
<h3 id="11-6-递归应用-二分法"><a href="#11-6-递归应用-二分法" class="headerlink" title="11.6 递归应用: 二分法"></a>11.6 递归应用: 二分法</h3><p>想从一个按照从小到大排列的数字列表中找到指定的数字，遍历的效率太低，用二分法（算法的一种，算法是解决问题的方法）可以极大低缩小问题规模</p>
<pre><code class="python"># 使用二分法 判断某个值 是否存在于列表中 类似于运算符 in
l=[1,2,10,30,33,99,101,200,301,311,402,403,500,900,1000] #从小到大排列的数字列表

def search(n,l):
    print(l)
    if len(l) == 0:
        print(&#39;not exists&#39;)
        return
    mid_index=len(l) // 2
    if n &gt; l[mid_index]:
        #in the right
        l=l[mid_index+1:]
        search(n,l)
    elif n &lt; l[mid_index]:
        #in the left
        l=l[:mid_index]
        search(n,l)
    else:
        print(&#39;find it&#39;)


search(3,l)
# 使用二分法 判断 某个值在列表中第一次 出现的位置 类似于列表对象的 index方法
l=[1,2,10,30,33,99,101,200,301,402]

def search(num,l,start=0,stop=len(l)-1):
    if start &lt;= stop:
        mid=start+(stop-start)//2
        print(&#39;start:[%s] stop:[%s] mid:[%s] mid_val:[%s]&#39; %(start,stop,mid,l[mid]))
        if num &gt; l[mid]:
            start=mid+1
        elif num &lt; l[mid]:
            stop=mid-1
        else:
            print(&#39;find it&#39;,mid)
            return
        search(num,l,start,stop)
    else: #如果stop &gt; start则意味着列表实际上已经全部切完，即切为空
        print(&#39;not exists&#39;)
        return

search(301,l)
</code></pre>
<h2 id="12-装饰器"><a href="#12-装饰器" class="headerlink" title="12 装饰器"></a>12 装饰器</h2><p>装饰器(decorator)就是闭包函数的一种应用场景</p>
<h3 id="12-1-为何要用装饰器"><a href="#12-1-为何要用装饰器" class="headerlink" title="12.1 为何要用装饰器"></a>12.1 为何要用装饰器</h3><pre><code>开放封闭原则：对修改封闭，对扩展开放
</code></pre>
<h3 id="12-2-什么是装饰器"><a href="#12-2-什么是装饰器" class="headerlink" title="12.2 什么是装饰器"></a>12.2 什么是装饰器</h3><pre><code>装饰器他人的器具，本身可以是任意可调用对象，被装饰者也可以是任意可调用对象。
强调装饰器的原则：1 不修改被装饰对象的源代码 2 不修改被装饰对象的调用方式
装饰器的目标：在遵循1和2的前提下，为被装饰对象添加上新功能
</code></pre>
<h3 id="12-3-装饰器的使用"><a href="#12-3-装饰器的使用" class="headerlink" title="12.3 装饰器的使用"></a>12.3 装饰器的使用</h3><h4 id="无参装饰器"><a href="#无参装饰器" class="headerlink" title="无参装饰器"></a>无参装饰器</h4><pre><code class="python">import time
def timmer(func):
    def wrapper(*args,**kwargs):
        start_time=time.time()
        res=func(*args,**kwargs)
        stop_time=time.time()
        print(&#39;run time is %s&#39; %(stop_time-start_time))
        return res
    return wrapper

@timmer
def foo():
    time.sleep(3)
    print(&#39;from foo&#39;)
foo()
</code></pre>
<h4 id="有参装饰器"><a href="#有参装饰器" class="headerlink" title="有参装饰器"></a>有参装饰器</h4><pre><code class="python">def auth(driver=&#39;file&#39;):
    def auth2(func):
        def wrapper(*args,**kwargs):
            name=input(&quot;user: &quot;)
            pwd=input(&quot;pwd: &quot;)

            if driver == &#39;file&#39;:
                if name == &#39;dandan&#39; and pwd == &#39;123&#39;:
                    print(&#39;login successful&#39;)
                    res=func(*args,**kwargs)
                    return res
            elif driver == &#39;ldap&#39;:
                print(&#39;ldap&#39;)
        return wrapper
    return auth2

@auth(driver=&#39;file&#39;)
def foo(name):
    print(name)

foo(&#39;dandan&#39;)
</code></pre>
<h3 id="12-4-装饰器语法"><a href="#12-4-装饰器语法" class="headerlink" title="12.4 装饰器语法"></a>12.4 装饰器语法</h3><pre><code class="python">被装饰函数的正上方，单独一行
@deco1
@deco2
@deco3
def foo():
    pass

foo=deco1(deco2(deco3(foo)))
</code></pre>
<h3 id="12-5-wraps"><a href="#12-5-wraps" class="headerlink" title="12.5 wraps"></a>12.5 wraps</h3><pre><code class="python">from functools import wraps

def deco(func):
    @wraps(func) #加在最内层函数正上方
    def wrapper(*args,**kwargs):
        return func(*args,**kwargs)
    return wrapper

@deco
def index():
    &#39;&#39;&#39;哈哈哈哈&#39;&#39;&#39;
    print(&#39;from index&#39;)

print(index.__doc__)
</code></pre>
<h2 id="14-偏函数"><a href="#14-偏函数" class="headerlink" title="14 偏函数"></a>14 偏函数</h2><p>偏函数（Partial function) 是Python的<code>functools</code>模块提供的功能</p>
<h3 id="14-1-偏函数的意义"><a href="#14-1-偏函数的意义" class="headerlink" title="14.1 偏函数的意义"></a>14.1 偏函数的意义</h3><pre><code class="python"># int()函数可以把字符串转换为整数，当仅传入字符串时，int()函数默认按十进制转换：
int(&#39;12345&#39;)

# 但int()函数还提供额外的base参数，默认值为10。如果传入base参数，就可以做N进制的转换    
int(&#39;12345&#39;, base=8)
int(&#39;12345&#39;, 16)

# 假设要转换大量的二进制字符串，每次都传入int(x, base=2)非常麻烦，于是，我们想到，可以定义一个int2()的函数，默认把base=2传进去
def int2(x, base=2):
    return int(x, base)
int2(&#39;1000000&#39;)
int2(&#39;1010101&#39;)

# functools.partial就是帮助我们创建一个偏函数的，不需要我们自己定义int2()
import functools
int2 = functools.partial(int, base=2)
int2(&#39;1000000&#39;)   # 64
int2(&#39;1010101&#39;)   # 85
</code></pre>
<p>所以，简单总结<code>functools.partial</code>的作用就是，把一个函数的某些参数给固定住（也就是设置默认值），返回一个新的函数，调用这个新函数会更简单。</p>
<h3 id="14-2-偏函数语法"><a href="#14-2-偏函数语法" class="headerlink" title="14.2 偏函数语法"></a>14.2 偏函数语法</h3><pre><code class="python">import functools
functools.partial(函数, base=需要固定的参数)
# 注意到上面的新的int2函数，仅仅是把base参数重新设定默认值为2，但也可以在函数调用时传入其他值：
int2(&#39;1000000&#39;, base=10)  # 1000000
</code></pre>
<h3 id="14-3-创建偏函数时的参数"><a href="#14-3-创建偏函数时的参数" class="headerlink" title="14.3 创建偏函数时的参数"></a>14.3 创建偏函数时的参数</h3><p>创建偏函数时，实际上可以接收函数对象、<code>*args</code>和<code>**kw</code>这3个参数</p>
<pre><code class="python"># 接收**kw
int2 = functools.partial(int, base=2)  # 实际上固定了int()函数的关键字参数base

# 接收 *args
max2 = functools.partial(max, 10)  
# 实际上会把10作为*args的一部分自动加到左边，也就是： max2(5, 6, 7) 等同于 max(10,5,6,7)
</code></pre>
<h2 id="15-Python内置函数"><a href="#15-Python内置函数" class="headerlink" title="15 Python内置函数"></a>15 Python内置函数</h2><table>
<thead>
<tr>
<th></th>
<th></th>
<th>内置函数</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#abs"><code>abs()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#delattr"><code>delattr()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#hash"><code>hash()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-memoryview"><code>memoryview()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-set"><code>set()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#all"><code>all()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-dict"><code>dict()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#help"><code>help()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#min"><code>min()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#setattr"><code>setattr()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#any"><code>any()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#dir"><code>dir()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#hex"><code>hex()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#next"><code>next()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#slice"><code>slice()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#ascii"><code>ascii()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#divmod"><code>divmod()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#id"><code>id()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#object"><code>object()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#sorted"><code>sorted()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#bin"><code>bin()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#enumerate"><code>enumerate()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#input"><code>input()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#oct"><code>oct()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#staticmethod"><code>staticmethod()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#bool"><code>bool()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#eval"><code>eval()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#int"><code>int()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#open"><code>open()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-str"><code>str()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#breakpoint"><code>breakpoint()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#exec"><code>exec()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#isinstance"><code>isinstance()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#ord"><code>ord()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#sum"><code>sum()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-bytearray"><code>bytearray()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#filter"><code>filter()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#issubclass"><code>issubclass()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#pow"><code>pow()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#super"><code>super()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-bytes"><code>bytes()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#float"><code>float()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#iter"><code>iter()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#print"><code>print()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-tuple"><code>tuple()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#callable"><code>callable()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#format"><code>format()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#len"><code>len()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#property"><code>property()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#type"><code>type()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#chr"><code>chr()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-frozenset"><code>frozenset()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-list"><code>list()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#func-range"><code>range()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#vars"><code>vars()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#classmethod"><code>classmethod()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#getattr"><code>getattr()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#locals"><code>locals()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#repr"><code>repr()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#zip"><code>zip()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#compile"><code>compile()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#globals"><code>globals()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#map"><code>map()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#reversed"><code>reversed()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#__import__"><code>__import__()</code></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#complex"><code>complex()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#hasattr"><code>hasattr()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#max"><code>max()</code></a></td>
<td><a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#round"><code>round()</code></a></td>
<td></td>
</tr>
</tbody></table>
<p>内置函数详情 查看 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/functions.html?highlight=built#ascii">官方文档</a></p>
<p><strong>format() 了解</strong></p>
<pre><code class="python">#字符串可以提供的参数 &#39;s&#39; None
&gt;&gt;&gt; format(&#39;some string&#39;,&#39;s&#39;)
&#39;some string&#39;
&gt;&gt;&gt; format(&#39;some string&#39;)
&#39;some string&#39;

#整形数值可以提供的参数有 &#39;b&#39; &#39;c&#39; &#39;d&#39; &#39;o&#39; &#39;x&#39; &#39;X&#39; &#39;n&#39; None
&gt;&gt;&gt; format(3,&#39;b&#39;) #转换成二进制
&#39;11&#39;
&gt;&gt;&gt; format(97,&#39;c&#39;) #转换unicode成字符
&#39;a&#39;
&gt;&gt;&gt; format(11,&#39;d&#39;) #转换成10进制
&#39;11&#39;
&gt;&gt;&gt; format(11,&#39;o&#39;) #转换成8进制
&#39;13&#39;
&gt;&gt;&gt; format(11,&#39;x&#39;) #转换成16进制 小写字母表示
&#39;b&#39;
&gt;&gt;&gt; format(11,&#39;X&#39;) #转换成16进制 大写字母表示
&#39;B&#39;
&gt;&gt;&gt; format(11,&#39;n&#39;) #和d一样
&#39;11&#39;
&gt;&gt;&gt; format(11) #默认和d一样
&#39;11&#39;

#浮点数可以提供的参数有 &#39;e&#39; &#39;E&#39; &#39;f&#39; &#39;F&#39; &#39;g&#39; &#39;G&#39; &#39;n&#39; &#39;%&#39; None
&gt;&gt;&gt; format(314159267,&#39;e&#39;) #科学计数法，默认保留6位小数
&#39;3.141593e+08&#39;
&gt;&gt;&gt; format(314159267,&#39;0.2e&#39;) #科学计数法，指定保留2位小数
&#39;3.14e+08&#39;
&gt;&gt;&gt; format(314159267,&#39;0.2E&#39;) #科学计数法，指定保留2位小数，采用大写E表示
&#39;3.14E+08&#39;
&gt;&gt;&gt; format(314159267,&#39;f&#39;) #小数点计数法，默认保留6位小数
&#39;314159267.000000&#39;
&gt;&gt;&gt; format(3.14159267000,&#39;f&#39;) #小数点计数法，默认保留6位小数
&#39;3.141593&#39;
&gt;&gt;&gt; format(3.14159267000,&#39;0.8f&#39;) #小数点计数法，指定保留8位小数
&#39;3.14159267&#39;
&gt;&gt;&gt; format(3.14159267000,&#39;0.10f&#39;) #小数点计数法，指定保留10位小数
&#39;3.1415926700&#39;
&gt;&gt;&gt; format(3.14e+1000000,&#39;F&#39;)  #小数点计数法，无穷大转换成大小字母
&#39;INF&#39;

#g的格式化比较特殊，假设p为格式中指定的保留小数位数，先尝试采用科学计数法格式化，得到幂指数exp，如果-4&lt;=exp&lt;p，则采用小数计数法，并保留p-1-exp位小数，否则按小数计数法计数，并按p-1保留小数位数
&gt;&gt;&gt; format(0.00003141566,&#39;.1g&#39;) #p=1,exp=-5 ==》 -4&lt;=exp&lt;p不成立，按科学计数法计数，保留0位小数点
&#39;3e-05&#39;
&gt;&gt;&gt; format(0.00003141566,&#39;.2g&#39;) #p=1,exp=-5 ==》 -4&lt;=exp&lt;p不成立，按科学计数法计数，保留1位小数点
&#39;3.1e-05&#39;
&gt;&gt;&gt; format(0.00003141566,&#39;.3g&#39;) #p=1,exp=-5 ==》 -4&lt;=exp&lt;p不成立，按科学计数法计数，保留2位小数点
&#39;3.14e-05&#39;
&gt;&gt;&gt; format(0.00003141566,&#39;.3G&#39;) #p=1,exp=-5 ==》 -4&lt;=exp&lt;p不成立，按科学计数法计数，保留0位小数点，E使用大写
&#39;3.14E-05&#39;
&gt;&gt;&gt; format(3.1415926777,&#39;.1g&#39;) #p=1,exp=0 ==》 -4&lt;=exp&lt;p成立，按小数计数法计数，保留0位小数点
&#39;3&#39;
&gt;&gt;&gt; format(3.1415926777,&#39;.2g&#39;) #p=1,exp=0 ==》 -4&lt;=exp&lt;p成立，按小数计数法计数，保留1位小数点
&#39;3.1&#39;
&gt;&gt;&gt; format(3.1415926777,&#39;.3g&#39;) #p=1,exp=0 ==》 -4&lt;=exp&lt;p成立，按小数计数法计数，保留2位小数点
&#39;3.14&#39;
&gt;&gt;&gt; format(0.00003141566,&#39;.1n&#39;) #和g相同
&#39;3e-05&#39;
&gt;&gt;&gt; format(0.00003141566,&#39;.3n&#39;) #和g相同
&#39;3.14e-05&#39;
&gt;&gt;&gt; format(0.00003141566) #和g相同
&#39;3.141566e-05&#39;
</code></pre>
<p><strong>evel()与exec()</strong></p>
<pre><code class="python">#1、语法
# eval(str,[,globasl[,locals]])
# exec(str,[,globasl[,locals]])

#2、区别
#示例一：
s=&#39;1+2+3&#39;
print(eval(s)) #eval用来执行表达式，并返回表达式执行的结果
print(exec(s)) #exec用来执行语句，不会返回任何值
&#39;&#39;&#39;
None
&#39;&#39;&#39;

#示例二：
print(eval(&#39;1+2+x&#39;,&#123;&#39;x&#39;:3&#125;,&#123;&#39;x&#39;:30&#125;)) #返回33
print(exec(&#39;1+2+x&#39;,&#123;&#39;x&#39;:3&#125;,&#123;&#39;x&#39;:30&#125;)) #返回None

# print(eval(&#39;for i in range(10):print(i)&#39;)) #语法错误，eval不能执行表达式
print(exec(&#39;for i in range(10):print(i)&#39;))
</code></pre>
<p><strong>compile()</strong></p>
<pre><code class="python"># compile(str,filename,kind)
# filename:用于追踪str来自于哪个文件，如果不想追踪就可以不定义
# kind可以是：single代表一条语句，exec代表一组语句，eval代表一个表达式
s=&#39;for i in range(10):print(i)&#39;
code=compile(s,&#39;&#39;,&#39;exec&#39;)
exec(code)


s=&#39;1+2+3&#39;
code=compile(s,&#39;&#39;,&#39;eval&#39;)
eval(code)
</code></pre>
<h2 id="16-练习"><a href="#16-练习" class="headerlink" title="16 练习"></a>16 练习</h2><p>1、写函数，，用户传入修改的文件名，与要修改的内容，执行函数，完成批了修改操作</p>
<p>2、写函数，计算传入字符串中【数字】、【字母】、【空格] 以及 【其他】的个数</p>
<p>3、写函数，判断用户传入的对象（字符串、列表、元组）长度是否大于5。</p>
<p>4、写函数，检查传入列表的长度，如果大于2，那么仅保留前两个长度的内容，并将新内容返回给调用者。</p>
<p>5、写函数，检查获取传入列表或元组对象的所有奇数位索引对应的元素，并将其作为新列表返回给调用者。</p>
<p>6、写函数，检查字典的每一个value的长度,如果大于2，那么仅保留前两个长度的内容，并将新内容返回给调用者。字典中的value只能是字符串或列表</p>
<pre><code>dic = &#123;&quot;k1&quot;: &quot;v1v1&quot;, &quot;k2&quot;: [11,22,33,44]&#125;
</code></pre>
<p>7、利用map()函数，把用户输入的不规范的英文名字，变为首字母大写，其他小写的规范名字。输入：[‘adam’, ‘LISA’, ‘barT’]，输出：[‘Adam’, ‘Lisa’, ‘Bart’]：</p>
<p>8、文件内容如下,标题为:姓名,性别,年纪,薪资</p>
<pre><code>egon male 18 3000
alex male 38 30000
wupeiqi female 28 20000
yuanhao female 28 10000
</code></pre>
<p>要求: 从文件中取出每一条记录放入列表中, 列表的每个元素都是{‘name’:’egon’,’sex’:’male’,’age’:18,’salary’:3000}的形式</p>
<p>9、 根据1得到的列表,取出薪资最高的人的信息</p>
<p>10、 根据1得到的列表,取出最年轻的人的信息</p>
<p>11、 根据1得到的列表,将每个人的信息中的名字映射成首字母大写的形式</p>
<p>12、 根据1得到的列表,过滤掉名字以a开头的人的信息</p>
<p>13、 使用递归打印斐波那契数列(前两个数的和得到第三个数，如：0 1 1 2 3 4 7…)</p>
<p>14、 一个嵌套很多层的列表，如l=［1,2,[3,[4,5,6,[7,8,[9,10,[11,12,13,[14,15]]]]]]］，用递归取出所有的值</p>
<p>15、编写装饰器，为函数加上统计时间的功能</p>
<p>16、 编写装饰器，为函数加上认证的功能</p>
<p>17、编写装饰器，为多个函数加上认证的功能（用户的账号密码来源于文件），要求登录成功一次，后续的函数都无需再输入用户名和密码 注意：从文件中读出字符串形式的字典，可以用eval(‘{“name”:”egon”,”password”:”123”}’)转成字典格式</p>
<p>18、编写装饰器，为多个函数加上认证功能，要求登录成功一次，在超时时间内无需重复登录，超过了超时时间，则必须重新登录</p>
<p>19、编写下载网页内容的函数，要求功能是：用户传入一个url，函数返回下载页面的结果</p>
<p>20、为题目五编写装饰器，实现缓存网页内容的功能： 具体：实现下载的页面存放于文件中，如果文件内有值（文件大小不为0），就优先从文件中读取网页内容，否则，就去下载，然后存到文件中</p>
<p>扩展功能：用户可以选择缓存介质/缓存引擎，针对不同的url，缓存到不同的文件中</p>
<p>21、还记得我们用函数对象的概念，制作一个函数字典的操作吗，来来来，我们有更高大上的做法，在文件开头声明一个空字典，然后在每个函数前加上装饰器，完成自动添加到字典的操作</p>
<p>22、 编写日志装饰器，实现功能如：一旦函数f1执行，则将消息2017-07-21 11:12:11 f1 run写入到日志文件中，日志文件路径可以指定</p>
<pre><code>注意：时间格式的获取
import time
time.strftime(&#39;%Y-%m-%d %X&#39;)
</code></pre>

      
       <hr><span style="font-style: italic;color: gray;"> 文章仅用于学习笔记使用，禁止转载！ </span>
    </div>
</article>







    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2021 Copyright QuYi-Stack
</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 552px;
    }
    .nav.fullscreen {
        margin-left: -552px;
    }
    .nav-left {
        width: 130px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
